{% extends 'layouts/base.html' %}
{% load widget_tweaks %}
{% block title %}{{pagetitle}}{% endblock %}
{% block content %}
<section class="user-profile section">
	<div class="container">
		<div class="row">
			<div class="col-lg-4">
				<div class="sidebar">
					<!-- User Widget -->
					<div class="widget user">
						<h5 class="text-center">{{ request.user.get_full_name }}</h5>
						<p class="text-center">{{ request.user.username }}</p>
					</div>
					<!-- Dashboard Links -->
          <div class="widget user-dashboard-menu">
            <ul>
              <li><a href="index.html">Savings Dashboard</a></li>
              <li><a href="index.html">Saved Offer <span>(5)</span></a></li>
              <li><a href="index.html">Favourite Stores <span>(3)</span></a></li>
              <li><a href="index.html">Recommended</a></li>
            </ul>
          </div>
				</div>
			</div>
			<div class="col-lg-8">
				<!-- Edit Profile Welcome Text -->
				<div class="widget welcome-message">
					<h2>Editar perfil</h2>
				</div>
				<!-- Edit Personal Info -->
				<div class="row">
					<div class="col-lg-6 col-md-6">
						<div class="widget personal-info">
							<h3 class="widget-header user">Editar Informacion Personal</h3>
							<form method="post">
								{% csrf_token %}
								<!-- First Name -->
								<div class="form-group">
									<label for="first-name">Nombre</label>
									{% render_field user_form.first_name class+="form-control" id="first-name" %}

								</div>
								<!-- Last Name -->
								<div class="form-group">
									<label for="last-name">Apellido</label>
									{% render_field user_form.last_name class+="form-control" id="last-name" %}
								</div>
								<div class="form-group">
									<label for="user-address">Direccion</label>
									{% render_field user_form.address class+="form-control" id="user-address" %}
								</div>
								<div class="form-group">
									<label for="user-phone">Telefono</label>
									{% render_field user_form.phone class+="form-control" id="user-phone" %}
								</div>
								<div class="form-group">
									<label for="user-email">Email</label>
									{% render_field user_form.email class+="form-control" id="user-email" %}
								</div>
								<!-- Submit button -->
								<button class="btn btn-transparent" name="update_profile">Guardar cambios</button>
							</form>
						</div>
					</div>
					<div class="col-lg-6 col-md-6">
						<!-- Change Password -->
					<div class="widget change-password">
						<h3 class="widget-header user">Cambiar Contraseña</h3>
						<form method="post">
							{% csrf_token %}
							<!-- Current Password -->
							<div class="form-group">
								<label for="current-password">Contraseña Actual</label>
								{% render_field password_form.old_password class+="form-control" id="current-password" %}
							</div>
							<!-- New Password -->
							<div class="form-group">
								<label for="new-password">Nueva Contraseña</label>
								{% render_field password_form.new_password1 class+="form-control" id="new-password" %}
							</div>
							<!-- Confirm New Password -->
							<div class="form-group">
								<label for="repeat-new-password">Confirmar Nueva Contraseña</label>
								{% render_field password_form.new_password2 class+="form-control" id="repeat-new-password" %}
							</div>
							<!-- Submit Button -->
							<button class="btn btn-transparent" name="change_password">Cambiar Contraseña</button>
						</form>
					</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
{% endblock %}